<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Perbarui Profil</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row class="ion-justify-content-center">
    <ion-col size="12" size-md="6" size-xl="6" class="ion-no-padding">
      <ion-item-divider color="medium">
        <ion-label>Informasi Publik</ion-label>
      </ion-item-divider>
      <ion-list class="ion-padding">
        <ion-item class="ion-no-padding">
          <ion-label position="stacked">Nama</ion-label>
          <ion-input type="text" [(ngModel)]="user.name"></ion-input>
        </ion-item>
        <ion-item class="ion-no-padding">
          <ion-label position="stacked">Email</ion-label>
          <ion-input type="email" [(ngModel)]="user.email"></ion-input>
        </ion-item>
        <ion-item class="ion-no-padding">
          <ion-label position="stacked">Bio</ion-label>
          <ion-textarea type="text" [(ngModel)]="user.description"></ion-textarea>
        </ion-item>
      </ion-list>

      <ion-item-divider color="medium">
        <ion-label>Informasi Pribadi</ion-label>
      </ion-item-divider>
      <ion-list class="ion-padding">
        <ion-list class="ion-no-padding">
          <ion-radio-group [(ngModel)]="user.sex" class="ion-no-padding">
            <ion-list-header class="ion-no-padding">
              <ion-label>Jenis Kelamin</ion-label>
            </ion-list-header>

            <ion-item class="ion-no-padding">
              <ion-label>Laki-Laki</ion-label>
              <ion-radio slot="start" value="1"></ion-radio>
            </ion-item>

            <ion-item class="ion-no-padding">
              <ion-label>Perempuan</ion-label>
              <ion-radio slot="start" value="0"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-list>
        <ion-item class="ion-no-padding">
          <ion-label position="stacked">No. HP</ion-label>
          <ion-input type="tel" [(ngModel)]="user.no_hp"></ion-input>
        </ion-item>
        <ion-item class="ion-no-padding">
          <ion-label color="dark" position="stacked">Tanggal Lahir<ion-text color="danger">*</ion-text></ion-label>
          <ion-datetime [hidden]="user.status==1" [monthNames]="customMonthNames" [readonly]="user.status==1" display-format="DD MMMM YYYY" [(ngModel)]="user.tgl_lahir"></ion-datetime>
          <ion-input *ngIf="user.status==1" [readonly]="user.status==1" type="text" [value]="notEditableDate()" (click)="checkChange()"></ion-input>
        </ion-item>
        <ion-item class="ion-no-padding">
          <ion-label position="stacked">NIK<ion-text color="danger">*</ion-text></ion-label>
          <ion-input [readonly]="user.status==1" type="number" [(ngModel)]="user.nik" (click)="checkChange()"></ion-input>
        </ion-item>
        <ion-row>
          <ion-col class="ion-margin ion-text-center" (click)="takePhoto('user_photo')">
            <ion-img [src]="user.verified_foto" *ngIf="user.verified_foto"></ion-img>
            <ion-chip [hidden]="user.verified_foto"><ion-icon name="contact"></ion-icon> <ion-label>Upload Foto</ion-label></ion-chip>
            <ion-label [hidden]="!user.verified_foto">Foto Pengguna<ion-text color="danger">*</ion-text></ion-label>
          </ion-col>
          <ion-col class="ion-margin ion-text-center" (click)="takePhoto('id_photo')">
            <ion-img [src]="user.ktp" *ngIf="user.ktp"></ion-img>
            <ion-chip [hidden]="user.ktp"><ion-icon name="card"></ion-icon> <ion-label>Upload Foto Ktp</ion-label></ion-chip>
            <ion-label [hidden]="!user.ktp">Foto KTP<ion-text color="danger">*</ion-text></ion-label>
          </ion-col>
        </ion-row>
        <ion-row class="ion-no-padding info">
          <ion-col>
            <ion-text color="danger">*</ion-text><ion-text class="text-info">Digunakan untuk keperluan verifikasi</ion-text>
          </ion-col>
        </ion-row>
      </ion-list>
    </ion-col>
  </ion-row>

</ion-content>

<ion-footer class="ion-no-padding">
  <ion-button expand="full" size="large" color="danger" (click)="updateProfile()">Simpan</ion-button>
</ion-footer>
